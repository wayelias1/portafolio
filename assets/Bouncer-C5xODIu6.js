import{Y as E,Z as M,O as p,$ as R,a0 as g,a1 as q,t as D,S as m,a2 as H}from"./index-CcR1OWpM.js";import{C as d,R as b}from"./Ranges-D1TI-l9V.js";import{Bounce as O}from"./index-B8q2Ee10.js";import{E as w}from"./ExternalInteractorBase-CIi3zRdK.js";const I=2,l=.5,P=Math.PI*l,h=2,y=10,S=0;function x(c,e,t,n,s){const i=c.particles.quadTree.query(n,s);for(const o of i)n instanceof d?M(R(o),{position:e,mass:t**I*P,velocity:p.origin,factor:p.origin}):n instanceof b&&g(o,q(e,t))}function T(c,e,t,n){const s=document.querySelectorAll(e);s.length&&s.forEach(i=>{const o=i,a=c.retina.pixelRatio,r={x:(o.offsetLeft+o.offsetWidth*l)*a,y:(o.offsetTop+o.offsetHeight*l)*a},v=o.offsetWidth*l*a,u=y*a,B=t.type==="circle"?new d(r.x,r.y,v+u):new b(o.offsetLeft*a-u,o.offsetTop*a-u,o.offsetWidth*a+u*h,o.offsetHeight*a+u*h);n(r,v,B)})}function W(c,e,t,n){E(t,e,(s,i)=>T(c,s,i,(o,a,r)=>x(c,o,a,r,n)))}function A(c,e){const t=c.retina.pixelRatio,n=y*t,s=c.interactivity.mouse.position,i=c.retina.bounceModeDistance;!i||i<S||!s||x(c,s,i,new d(s.x,s.y,i+n),e)}const f="bounce";class Y extends w{constructor(e){super(e)}clear(){}init(){const e=this.container,t=e.actualOptions.interactivity.modes.bounce;t&&(e.retina.bounceModeDistance=t.distance*e.retina.pixelRatio)}interact(){const e=this.container,t=e.actualOptions,n=t.interactivity.events,s=e.interactivity.status===D,i=n.onHover.enable,o=n.onHover.mode,a=n.onDiv;s&&i&&m(f,o)?A(this.container,r=>this.isEnabled(r)):W(this.container,a,f,r=>this.isEnabled(r))}isEnabled(e){const t=this.container,n=t.actualOptions,s=t.interactivity.mouse,i=(e?.interactivity??n.interactivity).events,o=i.onDiv;return!!s.position&&i.onHover.enable&&m(f,i.onHover.mode)||H(f,o)}loadModeOptions(e,...t){e.bounce||(e.bounce=new O);for(const n of t)e.bounce.load(n?.bounce)}reset(){}}export{Y as Bouncer};
